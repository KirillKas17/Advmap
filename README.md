# Travel Game Platform

–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –≥–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–π —Å –≥–µ–æ–ª–æ–∫–∞—Ü–∏–µ–π.

## üéØ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (MVP - –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1)

### ‚úÖ –ö—Ä–∏—Ç–∏—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –±–∞–∑–æ–≤–æ–π —Ü–µ–Ω–Ω–æ—Å—Ç–∏

1. **–£–º–Ω–∞—è –ª–æ–≥–∏–∫–∞ –æ—Ç–∫—Ä—ã—Ç–∏—è —á–µ—Ä–µ–∑ –≥–µ–æ–∑–æ–Ω—ã**
   - –°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–∏–≥–æ–Ω–æ–≤ –≤–º–µ—Å—Ç–æ —Ç–æ—á–µ–∫ –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Ö–æ–∂–¥–µ–Ω–∏—è —Ç–æ—á–∫–∏ –≤ –ø–æ–ª–∏–≥–æ–Ω
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ—Å–µ—â–µ–Ω–∏–π –≥–µ–æ–∑–æ–Ω

2. **–§–æ–Ω–æ–≤–∞—è —Ä–∞–±–æ—Ç–∞ –∏ –æ—Ñ–ª–∞–π–Ω-—Ä–µ–∂–∏–º**
   - –§–æ–Ω–æ–≤–æ–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏ (iOS/Android)
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ –æ—Ñ–ª–∞–π–Ω —Ä–µ–∂–∏–º–µ
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å–≤—è–∑–∏
   - –ü–∞–∫–µ—Ç–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –æ—Ñ–ª–∞–π–Ω –¥–∞–Ω–Ω—ã—Ö

3. **–ö—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ—Å—Ç—å (iOS/Android)**
   - React Native –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
   - –ï–¥–∏–Ω—ã–π –∫–æ–¥ –¥–ª—è –æ–±–µ–∏—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º
   - –ù–∞—Ç–∏–≤–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏

4. **–ó–∞—â–∏—Ç–∞ –æ—Ç —Å–ø—É—Ñ–∏–Ω–≥–∞ GPS**
   - –°–µ—Ä–≤–µ—Ä–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∞–Ω–æ–º–∞–ª–∏–π
   - –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –Ω–µ—Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã—Ö —Å–∫–æ—Ä–æ—Å—Ç–µ–π
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ—á–Ω–æ—Å—Ç–∏ GPS
   - –í—ã—è–≤–ª–µ–Ω–∏–µ —Ä–µ–∑–∫–∏—Ö —Å–∫–∞—á–∫–æ–≤ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è
   - –û—Ü–µ–Ω–∫–∞ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ —Å–ø—É—Ñ–∏–Ω–≥–∞ (0-1)

5. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–æ–º–∞/—Ä–∞–±–æ—Ç—ã**
   - –ö–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è —Ç–æ—á–µ–∫ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏
   - –ê–Ω–∞–ª–∏–∑ –≤—Ä–µ–º–µ–Ω–∏ –ø–æ—Å–µ—â–µ–Ω–∏–π
   - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–æ–º–∞ (–Ω–æ—á–Ω—ã–µ –ø–æ—Å–µ—â–µ–Ω–∏—è, –≤—ã—Ö–æ–¥–Ω—ã–µ)
   - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã (–¥–Ω–µ–≤–Ω—ã–µ –ø–æ—Å–µ—â–µ–Ω–∏—è –≤ –±—É–¥–Ω–∏)
   - –û—Ü–µ–Ω–∫–∞ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è

6. **–°–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π**
   - –†–∞–∑–ª–∏—á–Ω—ã–µ —Ç–∏–ø—ã –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π (–≥–µ–æ–∑–æ–Ω–∞, –ø–æ—Å–µ—â–µ–Ω–∏—è, —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ)
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞
   - –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞

7. **–ë–∞–∑–æ–≤–∞—è –∫–∞—Ä—Ç–∞**
   - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≥–µ–æ–∑–æ–Ω –Ω–∞ –∫–∞—Ä—Ç–µ
   - –¢–µ–∫—É—â–µ–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ—Å–µ—â–µ–Ω–Ω—ã—Ö –º–µ—Å—Ç

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

- **Backend**: FastAPI (Python)
- **Mobile**: React Native (iOS/Android)
- **Database**: PostgreSQL —Å PostGIS
- **Cache**: Redis
- **Task Queue**: Celery

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### Backend

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install -r requirements.txt

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env —Ñ–∞–π–ª

# –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker Compose (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
docker-compose up -d

# –ò–ª–∏ –ª–æ–∫–∞–ª—å–Ω–æ
# –°–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö PostgreSQL —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º PostGIS
# –ó–∞—Ç–µ–º –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏
alembic upgrade head

# –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
uvicorn app.main:app --reload
```

### Mobile

```bash
cd mobile
npm install

# iOS
npm run ios

# Android
npm run android
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
app/
  api/              - API endpoints
    v1/             - API –≤–µ—Ä—Å–∏–∏ 1
      auth.py       - –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
      location.py   - –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è
      geozone.py    - –ì–µ–æ–∑–æ–Ω—ã
      achievement.py - –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è
      home_work.py  - –î–æ–º/—Ä–∞–±–æ—Ç–∞
  core/             - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
  models/           - SQLAlchemy –º–æ–¥–µ–ª–∏
  schemas/          - Pydantic —Å—Ö–µ–º—ã
  services/         - –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
    geolocation.py  - –°–µ—Ä–≤–∏—Å –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏
    geozone.py      - –°–µ—Ä–≤–∏—Å –≥–µ–æ–∑–æ–Ω
    gps_spoofing.py - –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Å–ø—É—Ñ–∏–Ω–≥–∞
    home_work.py    - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–æ–º–∞/—Ä–∞–±–æ—Ç—ã
    achievement.py  - –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è
    offline_sync.py - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –æ—Ñ–ª–∞–π–Ω –¥–∞–Ω–Ω—ã—Ö
tests/              - –¢–µ—Å—Ç—ã
mobile/             - React Native –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
  src/
    screens/        - –≠–∫—Ä–∞–Ω—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
    services/       - –°–µ—Ä–≤–∏—Å—ã (API, –≥–µ–æ–ª–æ–∫–∞—Ü–∏—è)
    contexts/       - React –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã
    navigation/     - –ù–∞–≤–∏–≥–∞—Ü–∏—è
```

## API Endpoints

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- `POST /api/v1/auth/register` - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
- `POST /api/v1/auth/login` - –í—Ö–æ–¥
- `GET /api/v1/auth/me` - –¢–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å

### –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è
- `POST /api/v1/location/session` - –°–æ–∑–¥–∞—Ç—å —Å–µ—Å—Å–∏—é
- `POST /api/v1/location/session/{id}/point` - –î–æ–±–∞–≤–∏—Ç—å —Ç–æ—á–∫—É
- `POST /api/v1/location/offline/sync` - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –æ—Ñ–ª–∞–π–Ω –¥–∞–Ω–Ω—ã–µ
- `GET /api/v1/location/points` - –ü–æ–ª—É—á–∏—Ç—å —Ç–æ—á–∫–∏
- `GET /api/v1/location/last` - –ü–æ—Å–ª–µ–¥–Ω—è—è —Ç–æ—á–∫–∞

### –ì–µ–æ–∑–æ–Ω—ã
- `POST /api/v1/geozone` - –°–æ–∑–¥–∞—Ç—å –≥–µ–æ–∑–æ–Ω—É
- `GET /api/v1/geozone` - –°–ø–∏—Å–æ–∫ –≥–µ–æ–∑–æ–Ω
- `GET /api/v1/geozone/{id}` - –î–µ—Ç–∞–ª–∏ –≥–µ–æ–∑–æ–Ω—ã
- `POST /api/v1/geozone/{id}/check` - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Ö–æ–∂–¥–µ–Ω–∏–µ
- `POST /api/v1/geozone/check-nearby` - –ù–∞–π—Ç–∏ —Ä—è–¥–æ–º
- `GET /api/v1/geozone/visits/my` - –ú–æ–∏ –ø–æ—Å–µ—â–µ–Ω–∏—è

### –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è
- `GET /api/v1/achievement/my` - –ú–æ–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
- `POST /api/v1/achievement/check` - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è

### –î–æ–º/–†–∞–±–æ—Ç–∞
- `GET /api/v1/home-work` - –ü–æ–ª—É—á–∏—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –ª–æ–∫–∞—Ü–∏–∏
- `POST /api/v1/home-work/analyze` - –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
pytest tests/
```

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å—É:
- Swagger UI: http://localhost:8000/docs
- ReDoc: http://localhost:8000/redoc

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

- ‚úÖ –ú—É–ª—å—Ç–∏—Ç–µ–Ω–∞–Ω—Ç–Ω–æ—Å—Ç—å (company_id –≤–æ –≤—Å–µ—Ö –º–æ–¥–µ–ª—è—Ö)
- ‚úÖ Soft delete –¥–ª—è –≤—Å–µ—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π
- ‚úÖ –ü–æ–ª–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è —á–µ—Ä–µ–∑ Pydantic
- ‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç —Å–ø—É—Ñ–∏–Ω–≥–∞ GPS –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- ‚úÖ –û—Ñ–ª–∞–π–Ω —Ä–µ–∂–∏–º —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π
- ‚úÖ –§–æ–Ω–æ–≤–∞—è –≥–µ–æ–ª–æ–∫–∞—Ü–∏—è –¥–ª—è iOS –∏ Android
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–≤–µ—Ä–∫–æ–π
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–æ–º–∞/—Ä–∞–±–æ—Ç—ã
- ‚úÖ –ì–µ–æ–∑–æ–Ω—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–æ–ª–∏–≥–æ–Ω–æ–≤ (PostGIS)
- ‚úÖ RESTful API —Å –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º
